// ===== UZBEK LANGUAGE PACK =====
const UZ = {
  // Navigation
  nav_home: 'Bosh sahifa',
  nav_services: 'Xizmatlar',
  nav_doctors: 'Shifokorlar',
  nav_reviews: 'Sharhlar',
  nav_pricing: 'Narxlar',
  nav_contact: 'Aloqa',
  nav_portal: 'Bemor portali',
  nav_admin: 'Admin panel',

  // Common
  book_now: 'Yozilish',
  save: 'Saqlash',
  cancel: 'Bekor qilish',
  edit: 'Tahrirlash',
  delete: "O'chirish",
  add: "Qo'shish",
  search: 'Qidirish...',
  close: 'Yopish',
  confirm: 'Tasdiqlash',
  back: 'Orqaga',
  next: 'Keyingisi',
  loading: 'Yuklanmoqda...',
  all: 'Barchasi',
  export: 'Eksport',
  today: 'Bugun',
  week: 'Hafta',
  month: 'Oy',

  // Status
  status_confirmed: 'Tasdiqlangan',
  status_pending: "Kutilmoqda",
  status_completed: "Bajarildi",
  status_cancelled: 'Bekor qilindi',
  status_active: 'Faol',
  status_inactive: 'Faol emas',
  status_available: 'Bo\'sh',
  status_busy: 'Band',
  status_missed: 'Kelmadi',

  // Dashboard sidebar
  sidebar_dashboard: 'Bosh sahifa',
  sidebar_appointments: 'Qabullar',
  sidebar_patients: 'Bemorlar',
  sidebar_crm: 'CRM va Yozuvlar',
  sidebar_doctors: 'Shifokorlar',
  sidebar_schedule: "Jadval",
  sidebar_services: 'Xizmatlar',
  sidebar_staff: 'Xodimlar',
  sidebar_revenue: 'Daromad',
  sidebar_payments: "To'lovlar",
  sidebar_automation: 'Avtomatlashtirish',
  sidebar_analytics: 'Tahlil',
  sidebar_telegram: 'Telegram Bot',
  sidebar_reception: 'Qabulxona',

  // Dashboard stats
  stat_appointments: 'Bugungi qabullar',
  stat_patients: 'Jami bemorlar',
  stat_revenue: 'Bugungi daromad',
  stat_missed: 'Kelmagan bemorlar',

  // Appointments page
  appt_title: 'Qabullar',
  appt_subtitle: 'Barcha qabullarni boshqarish',
  appt_new: '+ Yangi qabul',
  appt_id: 'ID',
  appt_patient: 'Bemor',
  appt_doctor: 'Shifokor',
  appt_service: 'Xizmat',
  appt_datetime: 'Sana va vaqt',
  appt_status: 'Holat',
  appt_actions: 'Amallar',
  appt_reminder: 'Eslatma',

  // Patients
  patient_title: 'Bemorlar',
  patient_add: '+ Bemor qo\'shish',
  patient_name: 'F.I.O',
  patient_id: 'ID',
  patient_age: 'Yosh',
  patient_phone: 'Telefon',
  patient_last_visit: 'Oxirgi tashrif',
  patient_return_date: "Qaytish sanasi",
  patient_loyalty: "Sadoqat",

  // Revenue / Income
  revenue_title: 'Daromad',
  revenue_daily: 'Kunlik daromad',
  revenue_weekly: 'Haftalik daromad',
  revenue_monthly: 'Oylik daromad',
  revenue_annual: 'Yillik daromad',
  revenue_service: 'Xizmat bo\'yicha',
  revenue_uzs: 'UZS',
  revenue_usd: 'USD',

  // Telegram
  telegram_title: 'Telegram Bot',
  telegram_subtitle: 'Bemorlar bilan Telegram orqali muloqot',
  telegram_status: 'Bot holati',
  telegram_active: 'Faol',
  telegram_reminders: 'Yuborilgan eslatmalar',
  telegram_responses: 'Javoblar',
  telegram_missed: 'O\'tkazilgan eslatmalar',

  // Automation
  auto_title: 'Avtomatlashtirish',
  auto_reminder_24h: 'Qabul eslatmasi (24 soat)',
  auto_reminder_2h: 'Qabul eslatmasi (2 soat)',
  auto_followup: 'Takroriy tashrif eslatmasi',
  auto_missed: 'Kelmagan bemor bildirishnomasi',
  auto_return: 'Qaytish eslatmasi',
  auto_birthday: "Tug'ilgan kun tabrigi",

  // Reception
  reception_title: 'Qabulxona',
  reception_today: 'Bugungi jadval',
  reception_checkin: 'Keldi',
  reception_absent: 'Kelmadi',
  reception_call: 'Qo\'ng\'iroq qilish',
  reception_reschedule: 'Qayta yozish',
  reception_quick_book: 'Tezkor yozilish',

  // Booking
  booking_title: 'Qabulga yozilish',
  booking_step1: 'Xizmat va shifokor',
  booking_step2: 'Sana va vaqt',
  booking_step3: 'Shaxsiy ma\'lumotlar',
  booking_confirm: 'Qabulni tasdiqlash',
  booking_success: 'Qabul muvaffaqiyatli band qilindi!',

  // Messages
  toast_booked: 'Qabul band qilindi!',
  toast_reminder_sent: 'Eslatma yuborildi',
  toast_payment_received: "To'lov qabul qilindi",
  toast_patient_added: 'Bemor qo\'shildi',
  toast_cancelled: 'Qabul bekor qilindi',
  toast_error: 'Xatolik yuz berdi',

  // Time
  time_morning: 'Ertalab',
  time_afternoon: 'Tushdan keyin',
  time_evening: 'Kechqurun',

  // Days
  days: ['Yak', 'Du', 'Se', 'Ch', 'Pa', 'Ju', 'Sha'],
  days_full: ['Yakshanba', 'Dushanba', 'Seshanba', 'Chorshanba', 'Payshanba', 'Juma', 'Shanba'],
  months: ['Yanvar', 'Fevral', 'Mart', 'Aprel', 'May', 'Iyun', 'Iyul', 'Avgust', 'Sentyabr', 'Oktyabr', 'Noyabr', 'Dekabr'],

  // Services
  service_cardiology: 'Kardiologiya',
  service_neurology: 'Nevrologiya',
  service_orthopedics: 'Ortopediya',
  service_ophthalmology: 'Oftalmologiya',
  service_dental: 'Stomatologiya',
  service_general: 'Umumiy amaliyot',
  service_gynecology: 'Ginekologiya',
  service_urology: 'Urologiya',
  service_dermatology: 'Dermatologiya',
  service_therapy: 'Terapiya',
  service_pediatrics: 'Pediatriya',
  service_endocrinology: 'Endokrinologiya',

  // CRM
  crm_title: 'Bemor kartasi',
  crm_visits: 'Tashriflar',
  crm_diagnosis: 'Tashxis',
  crm_treatment: 'Davolash',
  crm_notes: 'Izohlar',
  crm_next_visit: 'Keyingi tashrif',
  crm_return_reminder: 'Qaytish eslatmasi',

  // Patient portal
  portal_welcome: 'Xush kelibsiz',
  portal_upcoming: "Kelgusi qabullar",
  portal_history: 'Tashrif tarixi',
  portal_records: 'Tibbiy yozuvlar',
  portal_notifications: 'Bildirishnomalar',
  portal_book: 'Yangi qabul',
};

// ===== RUSSIAN LANGUAGE PACK =====
const RU = {
  nav_home: 'Главная',
  nav_services: 'Услуги',
  nav_doctors: 'Врачи',
  nav_reviews: 'Отзывы',
  nav_pricing: 'Цены',
  nav_contact: 'Контакты',
  nav_portal: 'Портал пациента',
  nav_admin: 'Панель админа',
  book_now: 'Записаться',
  save: 'Сохранить',
  cancel: 'Отмена',
  edit: 'Редактировать',
  delete: 'Удалить',
  add: 'Добавить',
  search: 'Поиск...',
  close: 'Закрыть',
  confirm: 'Подтвердить',
  today: 'Сегодня',
  stat_appointments: 'Приёмов сегодня',
  stat_patients: 'Всего пациентов',
  stat_revenue: 'Доход сегодня',
  stat_missed: 'Не пришли',
  sidebar_dashboard: 'Главная',
  sidebar_appointments: 'Записи',
  sidebar_patients: 'Пациенты',
  sidebar_crm: 'CRM и Записи',
  sidebar_doctors: 'Врачи',
  sidebar_schedule: 'Расписание',
  sidebar_services: 'Услуги',
  sidebar_staff: 'Сотрудники',
  sidebar_revenue: 'Доход',
  sidebar_payments: 'Платежи',
  sidebar_automation: 'Автоматизация',
  sidebar_analytics: 'Аналитика',
  sidebar_telegram: 'Telegram Бот',
  sidebar_reception: 'Ресепшн',
  revenue_uzs: 'UZS',
  revenue_usd: 'USD',
  months: ['Янв','Фев','Мар','Апр','Май','Июн','Июл','Авг','Сен','Окт','Ноя','Дек'],
  days: ['Вс','Пн','Вт','Ср','Чт','Пт','Сб'],
};

// ===== ENGLISH PACK (default) =====
const EN = {
  nav_home: 'Home',
  nav_services: 'Services',
  nav_doctors: 'Doctors',
  nav_reviews: 'Reviews',
  nav_pricing: 'Pricing',
  nav_contact: 'Contact',
  nav_portal: 'Patient Portal',
  nav_admin: 'Admin Dashboard',
  book_now: 'Book Now',
  save: 'Save',
  cancel: 'Cancel',
  edit: 'Edit',
  delete: 'Delete',
  add: 'Add',
  search: 'Search...',
  close: 'Close',
  confirm: 'Confirm',
  today: 'Today',
  stat_appointments: "Today's Appointments",
  stat_patients: 'Total Patients',
  stat_revenue: "Today's Revenue",
  stat_missed: 'Missed Appointments',
  months: ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],
  days: ['Su','Mo','Tu','We','Th','Fr','Sa'],
  revenue_uzs: 'UZS',
  revenue_usd: 'USD',
};

// ===== LANGUAGE MANAGER =====
const LangManager = {
  current: 'uz',
  packs: { uz: UZ, ru: RU, en: EN },

  get(key) {
    const pack = this.packs[this.current] || EN;
    return pack[key] || EN[key] || key;
  },

  set(lang) {
    this.current = lang;
    localStorage.setItem('mc_lang', lang);
    document.dispatchEvent(new Event('langchange'));
  },

  init() {
    this.current = localStorage.getItem('mc_lang') || 'uz';
  }
};

LangManager.init();

// ===== UZS CURRENCY =====
const Currency = {
  rate: 12800, // 1 USD = 12,800 UZS (approximate)
  mode: 'uzs', // 'uzs' or 'usd'

  format(usd) {
    if (this.mode === 'uzs') {
      const uzs = Math.round(usd * this.rate);
      return uzs.toLocaleString('uz-UZ') + " so'm";
    }
    return '$' + usd.toLocaleString('en-US');
  },

  toggle() {
    this.mode = this.mode === 'uzs' ? 'usd' : 'uzs';
    localStorage.setItem('mc_currency', this.mode);
    document.dispatchEvent(new Event('currencychange'));
  },

  init() {
    this.mode = localStorage.getItem('mc_currency') || 'uzs';
  }
};

Currency.init();

// ===== EXPORTS =====
window.LangManager = LangManager;
window.Currency = Currency;
window.UZ = UZ;
window.RU = RU;
window.EN = EN;
